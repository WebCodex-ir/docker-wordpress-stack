# ุงุณุชฺฉ ุฏุงฺฉุฑ ูุฑุฏูพุฑุณ ุจุง ุนููฺฉุฑุฏ ุจุงูุง

ุงู ูพุฑูฺู ฺฉ ูุงูุจ ุขูุงุฏู ู ุญุฑููโุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉ ุง ฺูุฏ ุณุงุช ูุฑุฏูพุฑุณ ุจุณุงุฑ ุณุฑุนุ ุงูู ู ุจููู ุจุง ุงุณุชูุงุฏู ุงุฒ Docker ุงุณุช. ุชูุงู ูุฑุขูุฏูุง ุจุฑุง ูุตุจ ุขุณุงู ู ุณุฑุนุ ุฎูุฏฺฉุงุฑ ุดุฏูโุงูุฏ.

## ูุนูุงุฑ ๐๏ธ

ุงู ุงุณุชฺฉ ุงุฒ ุจูุชุฑู ุงุจุฒุงุฑูุง ูุฏุฑู ุจุฑุง ุงุฌุฑุง ูุฑุฏูพุฑุณ ุงุณุชูุงุฏู ูโฺฉูุฏ:
* **Reverse Proxy:** **Traefik** (ุจุฑุง ูุณุฑุงุจ ููุดููุฏ ู ูุฏุฑุช ุฎูุฏฺฉุงุฑ SSL)
* **ูุจ ุณุฑูุฑ:** **Nginx** (ุจุฑุง ุณุฑูุณโุฏู ุจู ูุงูโูุง ูุฑุฏูพุฑุณ ู ุงุฑุชุจุงุท ุจุง PHP)
* **ุงูพูฺฉุดู:** **WordPress** (ุงุฌุฑุง ุดุฏู ุฑู ุขุฎุฑู ูุณุฎู PHP-FPM)
* **ุฏุชุงุจุณ:** **MariaDB** (ุฌุงฺฏุฒู ุณุฑุนโุชุฑ ู ุจูููโุชุฑ MySQL)
* **ฺฉุดูฺฏ:** **Redis** (ุจุฑุง ฺฉุด ุขุจุฌฺฉุชโูุง ู ุงูุฒุงุด ฺุดูฺฏุฑ ุณุฑุนุช)
* **ฺฉูุชุฑู ูพูู:** **Portainer** (ุฑุงุจุท ฺฏุฑุงูฺฉ ุจุฑุง ูุฏุฑุช ุฏุงฺฉุฑ)

## ูพุดโูุงุฒูุง ๐

1.  ฺฉ ุณุฑูุฑ ุจุง ุณุณุชู ุนุงูู **Ubuntu 22.04 / 24.04**.
2.  ฺฉ **ุฏุงููู** ฺฉู Nameserver ูุง ุขู ุฑู **Cloudflare** ุชูุธู ุดุฏู ุจุงุดุฏ.
3.  ฺฉ **ุชูฺฉู API ุงุฒ ฺฉููุฏููุฑ** (Cloudflare API Token) ุจุง ุฏุณุชุฑุณ `Edit zone DNS`.

## ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ู ุงูุชูุงู ๐

ุงุจุชุฏุง ูุฑุงุญู ุขูุงุฏูโุณุงุฒ ุงููู ุณุฑูุฑ ุฑุง ุงูุฌุงู ุฏูุฏุ ุณูพุณ ุจุณุชู ุจู ูุงุฒ ุฎูุฏ ฺฉ ุงุฒ ุฏู ุณูุงุฑู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ.

#### **ฑ. ุขูุงุฏูโุณุงุฒ ุงููู ุณุฑูุฑ**

ุจุง SSH ุจู ุณุฑูุฑ ุฎูุฏ ูุชุตู ุดูุฏ ู ุงู ุฑูพุงุฒุชูุฑ ุฑุง ฺฉููู ฺฉูุฏ:
```bash
git clone [https://github.com/WebCodex-ir/docker-wordpress-stack.git](https://github.com/WebCodex-ir/docker-wordpress-stack.git)
cd docker-wordpress-stack
````

ุณูพุณ ูุงู ูพฺฉุฑุจูุฏ ุฑุง ุขูุงุฏู ฺฉูุฏ:

```bash
# ูุงู ููููู ุฑุง ฺฉูพ ฺฉูุฏ
cp .env.example .env

# ูุงู ุฑุง ุจุง ุงุทูุงุนุงุช ุฎูุฏ ูุฑุงุด ฺฉูุฏ
nano .env
```

ุฏุฑ ูุงู `.env`ุ ุชูุงู ููุงุฏุฑ (`DOMAIN_NAME`, `CLOUDFLARE_EMAIL`, `CLOUDFLARE_DNS_API_TOKEN` ู ุฑูุฒูุง ุนุจูุฑ ุฏุชุงุจุณ) ุฑุง ุจุง ุฏูุช ูพุฑ ฺฉูุฏ. ุฏุฑ ููุงุชุ ุงุณฺฉุฑูพุช ูุตุจ ุฑุง ูุงุจู ุงุฌุฑุง ฺฉูุฏ:

```bash
chmod +x install.sh
```

#### **ฒ. ุงุฌุฑุง ุงุณฺฉุฑูพุช ูุตุจ**

ุงุณฺฉุฑูพุช ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุงู ุงุณฺฉุฑูพุช ุฏุงฺฉุฑุ ูพูุฑุชูุฑ ู ุณุงุฑ ูุงุฒููุฏโูุง ุฑุง ูุตุจ ฺฉุฑุฏู ู ฺฉ ูุฑุฏูพุฑุณ ุฎุงู ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ.

```bash
sudo ./install.sh
```

ูพุณ ุงุฒ ุงุชูุงูุ ฺฉ ูุฑุฏูพุฑุณ ุฎุงู ุฑู ุฏุงููู ุงุตู ุดูุง ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ุญุงูุง ูโุชูุงูุฏ ุณูุงุฑู ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

-----

### **ุณูุงุฑู ุงูู: ูุตุจ ฺฉ ูุฑุฏูพุฑุณ ุฎุงู ู ุฌุฏุฏ**

ุงฺฏุฑ ูโุฎูุงูุฏ ฺฉ ุณุงุช ุฌุฏุฏ ุฑุง ุงุฒ ุตูุฑ ุดุฑูุน ฺฉูุฏุ ุงู ูุฑุงุญู ุฑุง ุฏูุจุงู ฺฉูุฏ.

1.  **ุชูุธูุงุช DNS:** ุฏุฑ ฺฉููุฏููุฑุ ฺฉ ุฑฺฉูุฑุฏ `A` ุจุฑุง ุฏุงููู ุฎูุฏ ุจุณุงุฒุฏ ฺฉู ุจู **IP ุณุฑูุฑ ุดูุง** ุงุดุงุฑู ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ุงุจุฑ ูุงุฑูุฌ **ูุนุงู** ุงุณุช.
2.  **ุชูุธูุงุช SSL:** ุจู ุชุจ `SSL/TLS` ุจุฑูุฏ ู ุญุงูุช ุฑูุฒูฺฏุงุฑ ุฑุง ุฑู **Full (Strict)** ูุฑุงุฑ ุฏูุฏ.
3.  **ูุตุจ ูุฑุฏูพุฑุณ:** ูพุณ ุงุฒ ฺูุฏ ุฏูููุ ุจู ุขุฏุฑุณ ุฏุงููู ุฎูุฏ `https://your-domain.com` ุจุฑูุฏ ู ูุฑุงุญู ูุตุจ ต ุฏูููโุง ูุฑุฏูพุฑุณ ุฑุง ุชฺฉูู ฺฉูุฏ.

-----

### **ุณูุงุฑู ุฏูู: ุงูุชูุงู ฺฉ ุณุงุช ููุฌูุฏ (ุฑูุด ุญุฑููโุง)**

ุงู ุฑูุด ูุทูุฆูโุชุฑู ุฑุงู ุจุฑุง ุงูุชูุงู ฺฉ ุณุงุช ูุฑุฏูพุฑุณ ููุฌูุฏ ุงุณุช.

1.  **ุณุงุฎุช ูพฺฉุฌ ุฏุฑ ุณุงุช ูุฏู:** ุฏุฑ ุณุงุช **ูุฏู** ุฎูุฏุ ุงูุฒููู ุฑุงฺฏุงู **Duplicator** ุฑุง ูุตุจ ฺฉุฑุฏู ู ฺฉ ูพฺฉุฌ ุดุงูู ูุงู **Installer** (`installer.php`) ู **Archive** (`.zip`) ุจุณุงุฒุฏ ู ูุฑ ุฏู ุฑุง ุฏุงูููุฏ ฺฉูุฏ.

2.  **ุขูพููุฏ ูุงูโูุง ุงูุชูุงู:** ุฏู ูุงู ฺฉู ุฏุงูููุฏ ฺฉุฑุฏู ุจูุฏุฏ ุฑุง ุจู ูพูุดู `./data/wordpress/` ุฑู ุณุฑูุฑ ุฌุฏุฏ ุขูพููุฏ ฺฉูุฏ.

3.  **ุงุฌุฑุง ูุตุจโฺฉููุฏู Duplicator:**

      * ุฏุฑ ฺฉููุฏููุฑุ ูุทูุฆู ุดูุฏ ฺฉู ุฑฺฉูุฑุฏ `A` ุฏุงููู ุดูุง ุจู IP ุณุฑูุฑ ุงุดุงุฑู ูโฺฉูุฏ ู ุญุงูุช SSL ุฑู **Full (Strict)** ุงุณุช.
      * ุจู ุขุฏุฑุณ `https://your-domain.com/installer.php` ุจุฑูุฏ.
      * ุฏุฑ ุจุฎุด Databaseุ ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฑุง ุงุฒ ูุงู `.env` ุฎูุฏ ูุงุฑุฏ ฺฉูุฏ (Host ุฑุง `mariadb` ูุฑุงุฑ ุฏูุฏ) ู ูุฑุงุญู ุฑุง ุชุง ุงูุชูุง ุฏูุจุงู ฺฉูุฏ.

4.  **ูุฑูุฏ ู ูพุงฺฉโุณุงุฒ:** ูพุณ ุงุฒ ุงุชูุงู ูุตุจุ ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุณุงุช **ูุฏู** ูุงุฑุฏ ูพุดุฎูุงู ุดูุฏุ ูุงูโูุง ูุตุจโฺฉููุฏู ุฑุง ูพุงฺฉ ฺฉูุฏ ู ุจู **ุชูุธูุงุช \> ูพููุฏูุง ฺฉุชุง** ุจุฑูุฏ ู ุฏู ุจุงุฑ ุฑู ุฏฺฉ-ูู **"ุฐุฎุฑู ุชุบุฑุงุช"** ฺฉูฺฉ ฺฉูุฏ.

-----

## ูุฏุฑุช ูพุดุฑูุชู ุณุฑูุฑ ๐๏ธ

ุฏุฑ ุงุฏุงูู ูุญูู ูุฏุฑุชุ ุชูุณุนู ู ูฺฏูุฏุงุฑ ุณุฑูุฑ ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุช.

### **ุงูุฒูุฏู ฺฉ ุณุงุจโุฏุงูู ุง ุฏุงููู ุฌุฏุฏ**

ุดูุง ูโุชูุงูุฏ ุจู ุฑุงุญุช ฺูุฏู ุณุงุช ุง ุณุงุจโุฏุงูู ุฑุง ุฑู ุงู ุณุฑูุฑ ูุฒุจุงู ฺฉูุฏ. ูุฑุขูุฏ ุจุฑุง ูุฑ ุฏู ฺฉุณุงู ุงุณุช.

1.  **ุชูุธู DNS:** ุฏุฑ ฺฉููุฏููุฑุ ฺฉ ุฑฺฉูุฑุฏ `A` ุฌุฏุฏ ุจุฑุง ุฏุงููู ุง ุณุงุจโุฏุงูู ุฌุฏุฏ ุจุณุงุฒุฏ ฺฉู ุจู IP ุณุฑูุฑ ุดูุง ุงุดุงุฑู ฺฉูุฏ.
2.  **ูุฑุงุด `docker-compose.yml`:** ูุงู `docker-compose.yml` ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ฺฉ ุณุฑูุณ ุฌุฏุฏ (ุดุงูู `nginx`, `wordpress`, `mariadb`) ุจุง ูุงูโูุง ู ูพูุดูโูุง ููุญุตุฑ ุจู ูุฑุฏ ุจู ุงูุชูุง ุขู ุงุถุงูู ฺฉูุฏ. ุฏุฑ ุจุฎุด `labels`ุ ุขุฏุฑุณ ุฏุงููู ุง ุณุงุจโุฏุงูู ุฌุฏุฏ ุฎูุฏ ุฑุง ุฏุฑ ูุงููู `Host()` ูุงุฑุฏ ฺฉูุฏ.
3.  **ุงุนูุงู ุชุบุฑุงุช:** ุฏุณุชูุฑ `sudo docker compose up -d` ุฑุง ุงุฌุฑุง ฺฉูุฏ. Traefik ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุณุฑูุณ ุฌุฏุฏ ุฑุง ุดูุงุณุง ฺฉุฑุฏู ู ุจุฑุง ุขู SSL ุฏุฑุงูุช ูโฺฉูุฏ.

### **ุจฺฉุงูพ ู ุจุงุฒฺฏุฑุฏุงู ๐พ**

#### **ฺฏุฑูุชู ุจฺฉุงูพ ฺฉุงูู**

1.  ุจุฑุง ฺฏุฑูุชู ุจฺฉุงูพ ุงุฒ ุชูุงู ูุงูโูุง ู ุฏุชุงุจุณโูุงุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ูพูุดู ุงุตู ูพุฑูฺู ุงุฌุฑุง ฺฉูุฏ:
    ```bash
    sudo tar -czvf backup-$(date +%Y-%m-%d).tar.gz ./data
    ```
2.  ุงู ุฏุณุชูุฑ ฺฉ ูุงู ูุดุฑุฏู ุจุง ูุงู `backup-YYYY-MM-DD.tar.gz` ุงุฌุงุฏ ูโฺฉูุฏ. ุงู ูุงู ุฑุง ุฏุงูููุฏ ฺฉุฑุฏู ู ุฏุฑ ุฌุง ุงูู ูฺฏูุฏุงุฑ ฺฉูุฏ.

#### **ุจุงุฒฺฏุฑุฏุงู ุจฺฉุงูพ ฺฉุงูู**

ุจุฑุง ุจุงุฒฺฏุฑุฏุงู ุณุงุช ุฑู ฺฉ ุณุฑูุฑ ุฌุฏุฏ ู ุฎุงู:

1.  **ุขูุงุฏูโุณุงุฒ ุงููู:** ูพุฑูฺู ุฑุง ุงุฒ ฺฏุชโูุงุจ `clone` ฺฉุฑุฏู ู ูุงู `.env` ุฑุง ุจุง ุงุทูุงุนุงุช ุตุญุญ ูพุฑ ฺฉูุฏ.
2.  **ุขูพููุฏ ู ุงุณุชุฎุฑุงุฌ ุจฺฉุงูพ:** ูุงู ุจฺฉุงูพ (`.tar.gz`) ุฑุง ุฏุฑ ูพูุดู ุงุตู ูพุฑูฺู ุขูพููุฏ ฺฉุฑุฏู ู ุจุง ุฏุณุชูุฑ ุฒุฑ ุขู ุฑุง ุงุฒ ุญุงูุช ูุดุฑุฏู ุฎุงุฑุฌ ฺฉูุฏ:
    ```bash
    sudo tar -xzvf your-backup-file.tar.gz
    ```
3.  **ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง:** ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุชูุงู ุณุฑูุณโูุง ุจุง ุงุทูุงุนุงุช ุจฺฉุงูพ ุดูุง ุจุงูุง ุจุงูุฏ:
    ```bash
    sudo docker compose up -d
    ```

-----

## ุนุจโุงุจ ู ุฏุณุชูุฑุงุช ููุฏ โ๏ธ

  * **ูุดฺฉู ุฏุณุชุฑุณ ูุงูโูุง ูพุณ ุงุฒ ุงูุชูุงู:**
    ุงฺฏุฑ ุจุนุฏ ุงุฒ ุงูุชูุงู ุณุงุช ุจุง ุงูุฒููู Duplicator ุง ุจู ุตูุฑุช ุฏุณุชุ ุฏุฑ ุขูพุฏุช ุง ูุตุจ ุงูุฒูููโูุง ุจุง ุฎุทุง ุฏุณุชุฑุณ ูุงู (File Permissions) ููุงุฌู ุดุฏุฏุ ุจู ุงู ุฏูู ุงุณุช ฺฉู ูุงูฺฉุช ูุงูโูุง ุจู ูู ุฑุฎุชู ุงุณุช. ุจุง ุฏุณุชูุฑ ุฒุฑ ุขู ุฑุง ุงุตูุงุญ ฺฉูุฏ:

    ```bash
    sudo chown -R www-data:www-data ./data/wordpress/
    ```

  * **ุฏุณุชูุฑุงุช ูุฏุฑุช:**

      * **ูุดุงูุฏู ฺฉุงูุชูุฑูุง:** `sudo docker ps`
      * **ูุดุงูุฏู ูุงฺฏโูุง:** `sudo docker compose logs -f <service_name>`
      * **ูุชููู ฺฉุฑุฏู ุณุฑูุณโูุง:** `sudo docker compose down`
      * **ุดุฑูุน ูุฌุฏุฏ ุณุฑูุณโูุง:** `sudo docker compose up -d`

<!-- end list -->
